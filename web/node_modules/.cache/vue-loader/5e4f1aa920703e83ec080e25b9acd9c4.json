{"remainingRequest":"d:\\TeduStudy\\VueUI\\novelReader\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!d:\\TeduStudy\\VueUI\\novelReader\\web\\src\\views\\Article.vue?vue&type=style&index=0&id=b2b8ec5c&scoped=true&lang=css","dependencies":[{"path":"d:\\TeduStudy\\VueUI\\novelReader\\web\\src\\views\\Article.vue","mtime":1556421390162},{"path":"d:\\TeduStudy\\VueUI\\novelReader\\web\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"d:\\TeduStudy\\VueUI\\novelReader\\web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907988000},{"path":"d:\\TeduStudy\\VueUI\\novelReader\\web\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"d:\\TeduStudy\\VueUI\\novelReader\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"d:\\TeduStudy\\VueUI\\novelReader\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nul li{\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style: none;\r\n}\r\n.container .session .boolList{\r\n    position: fixed;\r\n    width: 80%;\r\n    height: 100%;\r\n    background:Ivory;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n.toggleWhite{\r\n    background: #fff;\r\n}\r\n.toggleBlack{\r\n    background: #888;\r\n}\r\n.toggleBlack h3{\r\n    color: #ccc;\r\n}\r\n.toggleBlack p{\r\n    color: #ccc;\r\n}\r\n.container .session .boolList ul{\r\n    padding: 3rem;\r\n}\r\n.container .session .boolList ul li{\r\n    padding: 0.5rem;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n.container .session .boolList ul li a{\r\n    color: #888;\r\n    font-size: 1.2rem;\r\n}\r\n\r\n\r\n.container .top,.container .bottom{\r\n    background: #54C6C5;\r\n    width: 100%;\r\n    position: fixed;\r\n    height: 5rem;\r\n}\r\n.container .top{\r\n    top:0;\r\n}\r\n.container .bottom{\r\n    bottom:0;\r\n}\r\n.container .top p:first-child{\r\n    color: #fff;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n}\r\n.container .top p:last-child{\r\n    color: #fff;\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 1rem;\r\n    border: 1px solid #fff;\r\n    padding: 0 0.5rem;\r\n\r\n}\r\n.container .bottom ul{\r\n    margin: 0;\r\n    padding: 0.8rem 0 0 0;\r\n    display: flex;\r\n    justify-content: space-around;\r\n}\r\n.container .bottom ul>li{\r\n    width: 25%;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n}\r\n.container .bottom ul>li img{\r\n    width:30%;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n}\r\n.container .bottom ul>li p{\r\n    color:#fff;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n.clearFixed::after{\r\n    content: \"\";\r\n    display: block;\r\n    clear: both;\r\n}\r\n.container .main{\r\n    margin: 0 1rem;\r\n    padding: 6rem 0;\r\n}\r\n.container .main p{\r\n    font-size:1.2rem;\r\n    line-height: 1.8rem;\r\n}\r\n.container .main h3{\r\n    padding: 0 1rem 1rem 1rem;\r\n}\r\n",{"version":3,"sources":["Article.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Article.vue","sourceRoot":"src\\views","sourcesContent":["<template>\r\n    <div class=\"container\" style=\"margin-bottom:0;padding-bottom:0\">\r\n        <Header></Header>\r\n        <div class=\"session\" v-tap.stop=\"showControls\" :class=\"flagToggle?'toggleWhite':'toggleBlack'\">\r\n            <div class=\"top\" v-show=\"ifshowControls\">\r\n                <p>{{groupTitle}}</p>\r\n                <p v-tap=\"toBookShelf\">书架</p>\r\n            </div>\r\n            <div class=\"main\" v-swipeleft=\"toNextPage\" v-swiperight=\"toPrevPage\">\r\n                <h3>{{title}}</h3>\r\n                <p v-for=\"(item, index) in article\" :key=\"index\">{{item}}</p>\r\n            </div>\r\n\r\n            <div class=\"bottom\" v-show=\"ifshowControls\" @click.stop=\"awaysShow\">\r\n                <ul>\r\n                    <li v-tap=\"toContentList\">\r\n                        <img src=\"http://127.0.0.1:3000/bookList.png\" alt=\"\">\r\n                        <p>目录</p>\r\n                    </li>\r\n                    <li v-tap=\"toToggle\">\r\n                        <img :src=\"toggleImg\" alt=\"\">\r\n                        <p>{{flagToggle?\"夜间\":\"白天\"}}</p>\r\n                        </li>\r\n                    <li>\r\n                        <img src=\"http://127.0.0.1:3000/reset.png\" alt=\"\">\r\n                        <p>设置</p>\r\n                    </li>\r\n                    <li v-tap=\"toBookIndex\">\r\n                        <img src=\"http://127.0.0.1:3000/book.png\" alt=\"\">\r\n                        <p>封面</p>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <!-- <div class=\"boolList\" @click.stop=\"userClick=true\">\r\n                <ul>\r\n                    <li v-for=\"(item, index) in titleList\" :key=\"index\">\r\n                        <router-link :to=\"`/article?bid=${bid}&sid=${parseInt(item)}`\">{{item}}</router-link>\r\n                    </li>\r\n                </ul>\r\n            </div> -->\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { Toast } from 'mint-ui';\r\nimport Header from \"../components/Header\"\r\nexport default {\r\n    name:\"Article\",\r\n    data(){\r\n        return {\r\n            bid:null,\r\n            sid:null,\r\n            scrTop:null,\r\n            article:\"\",\r\n            title:\"\",\r\n            len:1,\r\n            ifshowControls:false,\r\n            groupTitle:\"\",\r\n            titleList:[],\r\n            flagToggle:true,\r\n            toggleImg:\"http://127.0.0.1:3000/black.png\"\r\n        }\r\n    },\r\n    methods:{\r\n        awaysShow(){\r\n            this.ifshowControls=true;\r\n        },\r\n        toToggle(){\r\n            if(this.flagToggle){\r\n                this.toggleImg=\"http://127.0.0.1:3000/white.png\";\r\n                this.flagToggle=false;\r\n            }else{\r\n                this.toggleImg=\"http://127.0.0.1:3000/black.png\";\r\n                this.flagToggle=true;\r\n            }\r\n        },\r\n        toContentList(){\r\n            this.$router.push(`/contentList?bid=${this.bid}`);\r\n        },\r\n        loadDetails(){\r\n            this.axios.get(\"http://127.0.0.1:3000/book/article\",{\r\n                params:{\r\n                    bid:this.bid,\r\n                    sid:this.sid\r\n                }\r\n            }).then((result)=>{\r\n                // console.log(result.data);\r\n                this.article=result.data.msg;\r\n                this.title=result.data.title\r\n                // console.log(this.article);\r\n                this.len=result.data.len;\r\n                this.groupTitle=result.data.groupTitle;\r\n                // console.log(this.groupTitle);\r\n                this.titleList=result.data.titleList;\r\n                console.log(this.titleList);\r\n            });\r\n        },\r\n        toNextPage(){\r\n            if(parseInt(this.sid)>=this.len){\r\n                Toast(\"已经是最后一章了\");\r\n            }else{\r\n                this.sid=parseInt(this.sid)+1;\r\n                this.$router.push(`/article?bid=${this.bid}&sid=${this.sid}&scrTop=0`);\r\n            }\r\n        },\r\n        toPrevPage(){\r\n            if(parseInt(this.sid)==1){\r\n                Toast(\"已经是第一章了\");\r\n            }else{\r\n                this.sid=parseInt(this.sid)-1;\r\n                this.$router.push(`/article?bid=${this.bid}&sid=${this.sid}&scrTop=0`);\r\n            }\r\n        },\r\n        //显示和隐藏控件按钮（头部和底部）\r\n        showControls(){\r\n            if(this.ifshowControls==false){\r\n                this.ifshowControls=true;\r\n            }else{\r\n                this.ifshowControls=false;\r\n            }\r\n        },\r\n        toBookIndex(){\r\n            this.$router.push(`/detailList?bid=${this.bid}`);\r\n        },\r\n        //回到书架\r\n        toBookShelf(){\r\n            this.$router.push(\"/myBook\");\r\n        }\r\n    },\r\n    mounted(){\r\n        let _this=this\r\n        window.addEventListener('scroll',function(){\r\n        let top = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset//要做兼容 在模拟器能正常获取scrolltop在微信h5页面和手机的浏览器页面一直为0\r\n            // console.log(top);\r\n        });\r\n            document.documentElement.scrollTop=100;\r\n\r\n    },\r\n    created(){\r\n        // localStorage.clear();\r\n        this.bid=this.$route.query.bid;\r\n        this.sid=this.$route.query.sid;\r\n        this.loadDetails();\r\n        // console.table(localStorage);\r\n        if(!this.checkStorage(this.bid)){\r\n            this.addToStorage(this.bid);\r\n        }else{\r\n            // console.log(this.bid,this.sid);\r\n            // console.table(document.documentElement.scrollTop);\r\n            this.setLocalStorage(this.bid,this.sid,0);\r\n        }\r\n        // console.table(localStorage);\r\n\r\n    },\r\n    watch:{\r\n        \"$route\"(){\r\n            this.bid=this.$route.query.bid;\r\n            this.sid=this.$route.query.sid;\r\n            this.loadDetails();\r\n        }\r\n    },\r\n    components:{\r\n        Header\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\nul li{\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style: none;\r\n}\r\n.container .session .boolList{\r\n    position: fixed;\r\n    width: 80%;\r\n    height: 100%;\r\n    background:Ivory;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n.toggleWhite{\r\n    background: #fff;\r\n}\r\n.toggleBlack{\r\n    background: #888;\r\n}\r\n.toggleBlack h3{\r\n    color: #ccc;\r\n}\r\n.toggleBlack p{\r\n    color: #ccc;\r\n}\r\n.container .session .boolList ul{\r\n    padding: 3rem;\r\n}\r\n.container .session .boolList ul li{\r\n    padding: 0.5rem;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n.container .session .boolList ul li a{\r\n    color: #888;\r\n    font-size: 1.2rem;\r\n}\r\n\r\n\r\n.container .top,.container .bottom{\r\n    background: #54C6C5;\r\n    width: 100%;\r\n    position: fixed;\r\n    height: 5rem;\r\n}\r\n.container .top{\r\n    top:0;\r\n}\r\n.container .bottom{\r\n    bottom:0;\r\n}\r\n.container .top p:first-child{\r\n    color: #fff;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n}\r\n.container .top p:last-child{\r\n    color: #fff;\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 1rem;\r\n    border: 1px solid #fff;\r\n    padding: 0 0.5rem;\r\n\r\n}\r\n.container .bottom ul{\r\n    margin: 0;\r\n    padding: 0.8rem 0 0 0;\r\n    display: flex;\r\n    justify-content: space-around;\r\n}\r\n.container .bottom ul>li{\r\n    width: 25%;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n}\r\n.container .bottom ul>li img{\r\n    width:30%;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n}\r\n.container .bottom ul>li p{\r\n    color:#fff;\r\n    margin: 0 auto;\r\n    text-align: center;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n.clearFixed::after{\r\n    content: \"\";\r\n    display: block;\r\n    clear: both;\r\n}\r\n.container .main{\r\n    margin: 0 1rem;\r\n    padding: 6rem 0;\r\n}\r\n.container .main p{\r\n    font-size:1.2rem;\r\n    line-height: 1.8rem;\r\n}\r\n.container .main h3{\r\n    padding: 0 1rem 1rem 1rem;\r\n}\r\n</style>\r\n\r\n"]}]}