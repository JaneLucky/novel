{"remainingRequest":"D:\\TeduStudy\\VueUI\\novelReader\\web\\node_modules\\babel-loader\\lib\\index.js!D:\\TeduStudy\\VueUI\\novelReader\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\TeduStudy\\VueUI\\novelReader\\web\\src\\views\\MyBook.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\TeduStudy\\VueUI\\novelReader\\web\\src\\views\\MyBook.vue","mtime":1558192720516},{"path":"D:\\TeduStudy\\VueUI\\novelReader\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"D:\\TeduStudy\\VueUI\\novelReader\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\TeduStudy\\VueUI\\novelReader\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from 'mint-ui';\nimport Footer from \"../components/Footer\";\nimport Header from \"../components/Header\";\nexport default {\n  name: \"MyBook\",\n  data: function data() {\n    return {\n      barNo: 1,\n      scrTop: null,\n      queryList: [],\n      list: []\n    };\n  },\n  methods: {\n    loadList: function loadList() {\n      var _this = this;\n\n      this.axios.get(\"http://127.0.0.1:3000/book/myBook\", {\n        params: {\n          queryList: this.queryList\n        }\n      }).then(function (result) {\n        // console.log(result.data.msg);\n        _this.list = result.data.msg; // console.log(this.list);\n\n        for (var i = 0; i < _this.list.length; i++) {\n          _this.list[i].sid = parseInt(_this.getLocalStorage(_this.list[i].bid).sid);\n          _this.list[i].scrTop = parseInt(_this.getLocalStorage(_this.list[i].bid).scrTop);\n        } // console.table(this.list);\n\n      });\n    },\n    //判断是否已经登录\n    checkLogin: function checkLogin() {\n      var _this2 = this;\n\n      this.axios(\"http://127.0.0.1:3000/user/checkLogin\").then(function (result) {\n        //没有登录，就提示先去登录，跳转到登录页面\n        if (result.data.code == 201) {\n          Toast({\n            message: '请先去登录',\n            duration: 2000\n          });\n          setTimeout(function () {\n            _this2.$router.push(\"/login\");\n          }, 2000);\n        } else {\n          //否则，显示书架信息\n          var allList = JSON.parse(localStorage.list); // console.table(allList);\n\n          var i = 0;\n          var queryList = [];\n\n          for (var i = 0; i < allList.length; i++) {\n            queryList.push(parseInt(allList[i].bid));\n          } // console.log(queryList);\n\n\n          _this2.queryList = queryList.reverse(); // console.log(this.queryList);\n\n          _this2.loadList();\n        }\n      });\n    }\n  },\n  components: {\n    Footer: Footer,\n    Header: Header\n  },\n  created: function created() {\n    this.checkLogin();\n  }\n};",{"version":3,"sources":["MyBook.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA,SAAA,KAAA,QAAA,SAAA;AACA,OAAA,MAAA,MAAA,sBAAA;AACA,OAAA,MAAA,MAAA,sBAAA;AAGA,eAAA;AACA,QAAA,QADA;AAEA,MAFA,kBAEA;AACA,WAAA;AACA,aAAA,CADA;AAEA,cAAA,IAFA;AAGA,iBAAA,EAHA;AAIA,YAAA;AAJA,KAAA;AAMA,GATA;AAUA,WAAA;AACA,YADA,sBACA;AAAA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,mCAAA,EAAA;AACA,gBAAA;AACA,qBAAA,KAAA;AADA;AADA,OAAA,EAIA,IAJA,CAIA,kBAAA;AACA;AACA,cAAA,IAAA,GAAA,OAAA,IAAA,CAAA,GAAA,CAFA,CAGA;;AACA,aAAA,IAAA,IAAA,CAAA,EAAA,IAAA,MAAA,IAAA,CAAA,MAAA,EAAA,GAAA,EAAA;AACA,gBAAA,IAAA,CAAA,CAAA,EAAA,GAAA,GAAA,SAAA,MAAA,eAAA,CAAA,MAAA,IAAA,CAAA,CAAA,EAAA,GAAA,EAAA,GAAA,CAAA;AACA,gBAAA,IAAA,CAAA,CAAA,EAAA,MAAA,GAAA,SAAA,MAAA,eAAA,CAAA,MAAA,IAAA,CAAA,CAAA,EAAA,GAAA,EAAA,MAAA,CAAA;AACA,SAPA,CAQA;;AACA,OAbA;AAcA,KAhBA;AAiBA;AACA,cAlBA,wBAkBA;AAAA;;AACA,WAAA,KAAA,CAAA,uCAAA,EAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA;AACA,YAAA,OAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AACA,gBAAA;AACA,qBAAA,OADA;AAEA,sBAAA;AAFA,WAAA;AAIA,qBAAA,YAAA;AACA,mBAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,WAFA,EAEA,IAFA;AAIA,SATA,MASA;AAAA;AACA,cAAA,UAAA,KAAA,KAAA,CAAA,aAAA,IAAA,CAAA,CADA,CAEA;;AACA,cAAA,IAAA,CAAA;AACA,cAAA,YAAA,EAAA;;AACA,eAAA,IAAA,IAAA,CAAA,EAAA,IAAA,QAAA,MAAA,EAAA,GAAA,EAAA;AACA,sBAAA,IAAA,CAAA,SAAA,QAAA,CAAA,EAAA,GAAA,CAAA;AACA,WAPA,CAQA;;;AACA,iBAAA,SAAA,GAAA,UAAA,OAAA,EAAA,CATA,CAUA;;AACA,iBAAA,QAAA;AACA;AACA,OAxBA;AAyBA;AA5CA,GAVA;AAwDA,cAAA;AACA,kBADA;AAEA;AAFA,GAxDA;AA4DA,SA5DA,qBA4DA;AACA,SAAA,UAAA;AACA;AA9DA,CAAA","sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <Header></Header>\r\n        <div class=\"top\">\r\n            <div class=\"mainBook clearFixed\" v-for=\"(item, index) in list.slice(0,1)\" :key=\"index\">\r\n                <router-link :to=\"`/article?bid=${item.bid}&sid=${item.sid}&scrTop=${item.scrTop}`\">\r\n                    <div>\r\n                        <img :src=\"item.pic\" alt=\"\">\r\n                    </div>\r\n                    <div>\r\n                        <h3>{{item.title}}</h3>\r\n                        <p>继续阅读 <span>&gt;</span></p>\r\n                    </div>\r\n                </router-link>\r\n            </div>\r\n        </div>    \r\n        <div class=\"main\">\r\n            <ul class=\"\">\r\n                <li v-for=\"(item, index) in list.slice(1,)\" :key=\"index\">\r\n                    <router-link :to=\"`/article?bid=${item.bid}&sid=${item.sid}`\">\r\n                        <div>\r\n                            <img :src=\"item.pic\" alt=\"\">\r\n                        </div>\r\n                        <p>{{item.title}}</p>\r\n                    </router-link>\r\n                </li>\r\n                <!-- <li>\r\n                    <router-link to=\"/index\">\r\n                        <div>\r\n                            <img src=\"http://127.0.0.1:3000/female_huanyan2.jpg\" alt=\"\">\r\n                        </div>\r\n                        <p>腹黑逆天大小姐</p>\r\n                    </router-link>\r\n                </li> -->\r\n\r\n                <li>\r\n                    <router-link to=\"/classify\">\r\n                        <div>\r\n                            <img src=\"http://127.0.0.1:3000/add.png\" alt=\"\">\r\n                        </div>\r\n                        <p></p>\r\n                    </router-link>\r\n                </li>\r\n                <li></li>\r\n                <li></li>\r\n            </ul>\r\n        </div>\r\n        <Footer :barNo=\"barNo\"></Footer>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { Toast } from 'mint-ui'\r\nimport Footer from \"../components/Footer\"\r\nimport Header from \"../components/Header\"\r\n\r\n\r\nexport default {\r\n    name:\"MyBook\",\r\n    data(){\r\n        return {\r\n            barNo:1,\r\n            scrTop:null,\r\n            queryList:[],\r\n            list:[],\r\n        }\r\n    },\r\n    methods:{\r\n        loadList(){\r\n            this.axios.get(\"http://127.0.0.1:3000/book/myBook\",{\r\n                params:{\r\n                    queryList:this.queryList\r\n                }\r\n            }).then(result=>{\r\n                // console.log(result.data.msg);\r\n                this.list=result.data.msg;\r\n                // console.log(this.list);\r\n                for(var i=0;i<this.list.length;i++){\r\n                    this.list[i].sid=parseInt(this.getLocalStorage(this.list[i].bid).sid) ;\r\n                    this.list[i].scrTop=parseInt(this.getLocalStorage(this.list[i].bid).scrTop);\r\n                }\r\n                // console.table(this.list);\r\n            });\r\n        },\r\n        //判断是否已经登录\r\n        checkLogin(){\r\n            this.axios(\"http://127.0.0.1:3000/user/checkLogin\").then((result)=>{\r\n                //没有登录，就提示先去登录，跳转到登录页面\r\n                if(result.data.code==201){\r\n                    Toast({\r\n                        message: '请先去登录',\r\n                        duration: 2000\r\n                    });\r\n                    setTimeout(()=>{\r\n                        this.$router.push(\"/login\");\r\n                    },2000);\r\n                    \r\n                }else{//否则，显示书架信息\r\n                    var allList=JSON.parse(localStorage.list);\r\n                    // console.table(allList);\r\n                    var i=0;\r\n                    var queryList=[];\r\n                    for (var i=0;i<allList.length;i++) {\r\n                        queryList.push(parseInt(allList[i].bid));\r\n                    }\r\n                    // console.log(queryList);\r\n                    this.queryList=queryList.reverse();\r\n                    // console.log(this.queryList);\r\n                    this.loadList();\r\n                }\r\n            })\r\n        }\r\n    },\r\n    components:{\r\n        Footer,\r\n        Header\r\n    },\r\n    created(){\r\n        this.checkLogin();\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.container .top{\r\n    width: 100%;\r\n    height: 12rem;\r\n    background: rgba(76,179,178, 0.8);\r\n}\r\n.top{\r\n    padding-top: 3rem;\r\n}\r\n.mainBook div{\r\n    float: left;\r\n}\r\n.mainBook a{\r\n    display: block;\r\n}\r\n.clearFixed::after{\r\n    content: \"\";\r\n    display: block;\r\n    clear: both;\r\n}\r\n.mainBook div:first-child{\r\n    width: 40%;\r\n    text-align: right;\r\n}\r\n.mainBook div:first-child img{\r\n    width: 80%;\r\n    right:0;\r\n\r\n}\r\n.mainBook div:last-child{\r\n    width: 60%;\r\n    padding: 2rem 1.6rem 0 1.6rem;\r\n    color: aliceblue;\r\n}\r\n.mainBook div:last-child h3{\r\n    font-weight: normal;\r\n    font-size: 1.2rem;\r\n}\r\n.mainBook div:last-child p{\r\n    width: 100%;\r\n    text-align: left;\r\n    color: rgb(210, 221, 231);\r\n    margin-top: 0.8rem;\r\n}\r\n.mainBook div:last-child p span{\r\n    display: inline-block;\r\n    /* border: 1px solid rgb(210, 221, 231); */\r\n    width: 1rem;\r\n    height: 1rem;\r\n    line-height: 1rem;\r\n    border-radius: 50%;\r\n    background: rgb(210, 221, 231);;\r\n    text-align: center;\r\n    color: gray;\r\n}\r\n.main{\r\n    height: 20rem;\r\n    width: 100%;\r\n    padding: 1rem;\r\n    margin-top: 1rem;\r\n}\r\n.main ul{\r\n    display: flex;\r\n    justify-content: space-around;\r\n    flex-wrap: wrap;\r\n    width: 100%;\r\n    padding: 0;\r\n    margin: 0;\r\n    \r\n}\r\nul>li{\r\n    list-style: none;\r\n    padding: 0;\r\n    margin: 1.6rem 0 0 0;\r\n    width: 33.33333%;\r\n}\r\nul>li img{\r\n    width: 80%;\r\n    display: block;\r\n    margin: 0 auto;\r\n}\r\nul>li p{\r\n    width: 80%;\r\n    display: block;\r\n    margin: 0 auto;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    font-size: 0.9rem;\r\n}\r\n.clearFixed::after{\r\n    content: \"\";\r\n    display: block;\r\n    clear: both;\r\n    }\r\n</style>\r\n\r\n"],"sourceRoot":"src\\views"}]}